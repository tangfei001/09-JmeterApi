**02-Jmeter获取登录的token**

问题描述:
      解决问题:这是之前在公司一个实际的接口性能测试项目中，遇到的问题。现在有空总结一下。我们所做的项目一般都需要先登录，这个时候就需要把登录和所要测试的接口分为两个事务，Jmeter中即为事务控制器。

解决的思路:

1:首先，我们在登录的事务中，添加-后置处理器-正则表达式提取器，获取token

2:在正则表达式中填写对应的值
  正则表达式提取器设置  
                     引用名称       token             
                     正则表达式  "token":"(.+?)"/"token":"(.*?)"
                     模板               $1$
                     匹配数字         1

3:在线程组中添加取样器-BeanShell取样器

4:将token 值设置为全局变量
    Bean Shell Sampler-脚本文件写法   ${__setProperty(newtoken,${token},)}

5:最后，在需要测试的事务的HTTP请求的 HTTP信息头管理器中使用上述步骤中获取的token
    http信息头管理器                token     ${__property(newtokten)}

6:执行脚本(至此，运行一下脚本，应该不存在问题了，至少不存在有关token的问题了)
